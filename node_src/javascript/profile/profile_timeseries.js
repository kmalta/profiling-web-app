
var json_obj = {
  "epochs_upper": [0.759586, 0.153985, 0.245155, 0.220285, 0.108287, 0.104143, 0.103336, 0.094184, 0.102182, 0.090872, 0.091634, 0.194627, 0.091268, 0.079164, 0.082634, 0.079867, 0.08155, 0.084051, 0.087165, 0.075161, 0.078495, 0.074956, 0.076509, 0.0755, 0.073283, 0.06888, 0.075626, 0.072262, 0.073444, 0.079489, 0.075533, 0.073014, 0.074872, 0.070515, 0.069031, 0.070011, 0.067516, 0.068996, 0.070828, 0.074766, 0.069764, 0.074822, 0.074179, 0.071908, 0.072138, 0.078681, 0.069286, 0.06693, 0.068166, 0.077838, 0.065962, 0.064352, 0.065097, 0.066986, 0.070798, 0.063766, 0.065586, 0.062792, 0.062973, 0.067131, 0.067191, 0.064461, 0.062234, 0.062325, 0.060828, 0.059315, 0.063289, 0.061791, 0.064099, 0.062721, 0.062897, 0.06343, 0.059233, 0.06288, 0.066633, 0.060305, 0.058539, 0.06453, 0.059158, 0.067019, 0.05837, 0.055385, 0.071017, 0.057999, 0.058603, 0.057425, 0.061224, 0.061064, 0.059264, 0.063969, 0.063292, 0.059131, 0.062992, 0.061018, 0.058167, 0.059454, 0.054936, 0.057762, 0.053408, 0.058541, 0.057974, 0.053058, 0.055851, 0.052831, 0.053008, 0.054038, 0.057838, 0.052311, 0.054506, 0.05448, 0.06164, 0.056842, 0.056696, 0.05947, 0.058204, 0.054625, 0.052787, 0.052078, 0.051917, 0.052284, 0.051351, 0.051654, 0.051299, 0.051835, 0.05066, 0.051998, 0.053948, 0.050914, 0.053254, 0.052778, 0.053341, 0.053349, 0.057329, 0.053857, 0.053967, 0.050081, 0.049743, 0.051979, 0.050832, 0.05224, 0.057522, 0.051773, 0.052172, 0.051743, 0.051901, 0.046607, 0.056383, 0.05468, 0.051361, 0.051928, 0.050428, 0.049962, 0.050887, 0.049489, 0.050477, 0.047883, 0.048611, 0.049766, 0.052091, 0.049559, 0.049529, 0.045319, 0.045385, 0.047192, 0.050307, 0.049951, 0.048027, 0.049955, 0.047998, 0.048711, 0.046508, 0.048196, 0.048469, 0.045998, 0.044277, 0.047941, 0.045165, 0.047204, 0.044459, 0.045082, 0.044691, 0.044556, 0.046877, 0.04629, 0.042236, 0.046776, 0.047642, 0.044473, 0.044613, 0.045938, 0.046719, 0.047922, 0.045551, 0.047513, 0.04622, 0.047561, 0.047789, 0.050734, 0.053269, 0.046896, 0.045973, 0.049942, 0.047552, 0.048576, 0.04532, 0.046627, 0.048836, 0.048638, 0.047962, 0.046708, 0.048156, 0.048029, 0.047694, 0.044602, 0.05626, 0.054018, 0.047044, 0.045164, 0.046226, 0.050314, 0.046983, 0.04603, 0.044972, 0.04626, 0.047565, 0.046812, 0.04735, 0.045865, 0.045223, 0.04625, 0.045081, 0.045474, 0.04625, 0.051143, 0.045009, 0.044793, 0.044903, 0.044213, 0.045171, 0.049007, 0.044564, 0.043357, 0.043177, 0.046615, 0.043209, 0.045668, 0.050112, 0.045562, 0.043153, 0.045971, 0.145142, 0.045983, 0.043318, 0.044658, 0.04791, 0.044534, 0.048109, 0.047013, 0.044324, 0.047996, 0.042749, 0.046636, 0.056582, 0.048038, 0.043644, 0.042267, 0.043214, 0.05195, 0.041947, 0.044348, 0.044815, 0.043455, 0.04027, 0.041761, 0.048987, 0.044065, 0.039472, 0.041665, 0.046012, 0.044283, 0.041427, 0.051262, 0.044461, 0.045006, 0.041703, 0.042548, 0.042229, 0.041437, 0.042402, 0.041863, 0.045112, 0.048322, 0.038787, 0.046723, 0.043847, 0.045489, 0.043101, 0.046085, 0.042673, 0.049313, 0.040374, 0.044392, 0.044198, 0.040619, 0.037991, 0.041653, 0.04054, 0.038628, 0.03792, 0.038398, 0.036423, 0.040153, 0.03859, 0.037103, 0.036123, 0.036795, 0.036538, 0.038461, 0.038891, 0.040565, 0.037504, 0.036383, 0.034827, 0.038541, 0.034356, 0.034485, 0.034832, 0.035294, 0.034473, 0.037091, 0.035972, 0.035131, 0.035183, 0.035618, 0.03504, 0.033478, 0.039166, 0.035599, 0.03927, 0.036504, 0.035387, 0.037335, 0.036307, 0.036807, 0.03577, 0.033816, 0.034874, 0.038648, 0.038034, 0.036077, 0.038788, 0.035428, 0.037671, 0.035827, 0.037907, 0.034681, 0.035114, 0.03558, 0.034789, 0.034798, 0.035881, 0.037538, 0.035486, 0.034741, 0.03546, 0.032205, 0.03546, 0.038231, 0.036028, 0.034413, 0.041072, 0.03525, 0.037516, 0.038573, 0.036318, 0.035766, 0.03574, 0.038034, 0.036045, 0.036985, 0.037043, 0.039864, 0.03782, 0.038735, 0.0353, 0.037509, 0.038583, 0.037938, 0.035224, 0.036779, 0.03551, 0.036069, 0.040017, 0.037964, 0.037453, 0.036838, 0.036035, 0.037427, 0.037156, 0.035595, 0.034587, 0.040404, 0.038458, 0.033695, 0.039339, 0.033945, 0.034871, 0.034188, 0.036706, 0.037094, 0.036121, 0.035196, 0.034876, 0.035628, 0.037191, 0.036185, 0.038125, 0.036995, 0.035522, 0.04731, 0.039435, 0.034998, 0.034578, 0.032818, 0.033811, 0.038851, 0.033183, 0.033206, 0.034742, 0.033464, 0.037041, 0.03785, 0.03436, 0.035276, 0.034362, 0.034063, 0.034056, 0.036054, 0.037945, 0.034042, 0.034484, 0.039335, 0.033731, 0.035993, 0.033878, 0.035002, 0.036357, 0.034294, 0.03155, 0.033851, 0.035295, 0.046868, 0.037698, 0.048618, 0.037239, 0.033548, 0.035776, 0.037733, 0.038761, 0.03414, 0.033424, 0.034635, 0.034131, 0.036469, 0.042701, 0.035814, 0.032926, 0.034703, 0.034027, 0.034117, 0.035766, 0.034745, 0.03453, 0.036443, 0.033761, 0.036204, 0.03517, 0.034072, 0.033672, 0.033477, 0.035428, 0.033981, 0.034471, 0.035703, 0.03639, 0.034918, 0.034945, 0.035181, 0.037608, 0.032779, 0.034573, 0.039372, 0.033297, 0.033039, 0.034587, 0.034958, 0.036797, 0.033795, 0.038051, 0.032521],
  "epochs_lower": [0.701002, 0.149317, 0.248653, 0.16022, 0.158556, 0.111279, 0.112336, 0.095593, 0.100493, 0.101007, 0.089302, 0.086288, 0.085958, 0.082534, 0.079962, 0.080585, 0.083491, 0.082627, 0.089587, 0.079119, 0.07855, 0.080896, 0.073261, 0.074433, 0.078301, 0.072736, 0.073759, 0.073377, 0.07217, 0.073209, 0.070966, 0.073829, 0.075965, 0.072912, 0.07261, 0.075592, 0.0727, 0.071521, 0.069728, 0.067671, 0.066974, 0.069067, 0.065813, 0.073604, 0.071451, 0.071195, 0.069584, 0.066447, 0.066693, 0.066517, 0.067014, 0.069602, 0.062596, 0.060579, 0.067031, 0.065377, 0.068614, 0.066424, 0.068191, 0.064779, 0.067385, 0.063469, 0.066826, 0.061106, 0.064062, 0.06209, 0.076722, 0.063815, 0.069278, 0.066942, 0.058937, 0.065572, 0.060948, 0.061661, 0.067566, 0.059681, 0.063955, 0.059828, 0.058658, 0.06073, 0.064176, 0.059511, 0.064775, 0.060634, 0.060689, 0.060254, 0.060437, 0.059459, 0.06083, 0.056945, 0.060689, 0.058745, 0.056621, 0.062849, 0.057313, 0.060757, 0.059017, 0.055005, 0.05445, 0.060308, 0.057134, 0.065082, 0.05951, 0.0591, 0.058724, 0.064236, 0.055123, 0.054081, 0.053332, 0.146251, 0.055284, 0.054653, 0.052765, 0.053243, 0.048677, 0.053056, 0.057754, 0.053751, 0.054574, 0.056705, 0.055646, 0.058289, 0.053202, 0.05576, 0.05098, 0.062508, 0.051284, 0.051795, 0.054996, 0.05313, 0.057308, 0.052096, 0.057186, 0.065852, 0.053406, 0.051209, 0.052877, 0.048032, 0.048829, 0.052394, 0.053398, 0.054437, 0.050738, 0.049565, 0.052578, 0.055013, 0.050209, 0.047628, 0.05095, 0.051582, 0.049825, 0.051845, 0.055153, 0.049328, 0.050336, 0.049089, 0.05103, 0.056113, 0.049029, 0.050437, 0.049296, 0.048919, 0.04975, 0.048684, 0.051003, 0.04928, 0.052146, 0.04687, 0.048868, 0.047107, 0.051568, 0.045899, 0.051783, 0.04844, 0.050723, 0.047067, 0.049482, 0.050252, 0.052413, 0.046138, 0.047635, 0.057579, 0.050075, 0.047985, 0.051916, 0.047027, 0.047179, 0.051367, 0.048257, 0.047954, 0.04948, 0.053248, 0.044981, 0.046489, 0.049534, 0.050392, 0.048412, 0.046397, 0.048285, 0.04639, 0.047967, 0.046015, 0.047641, 0.048096, 0.045741, 0.047121, 0.051287, 0.045328, 0.050919, 0.049329, 0.049985, 0.046203, 0.044826, 0.042448, 0.050742, 0.049617, 0.048261, 0.047972, 0.048748, 0.048045, 0.045752, 0.04547, 0.046251, 0.045677, 0.045287, 0.047086, 0.044167, 0.04494, 0.045081, 0.047766, 0.048448, 0.047506, 0.044776, 0.048009, 0.045638, 0.04515, 0.04791, 0.049034, 0.048148, 0.046947, 0.047026, 0.042085, 0.048112, 0.04476, 0.048918, 0.042887, 0.043069, 0.044251, 0.046899, 0.047371, 0.117971, 0.047413, 0.058443, 0.048142, 0.051839, 0.050278, 0.046392, 0.047102, 0.045628, 0.045306, 0.045428, 0.045442, 0.041605, 0.047021, 0.042683, 0.047589, 0.051649, 0.0452, 0.045775, 0.041644, 0.047758, 0.046637, 0.047104, 0.042955, 0.048836, 0.045012, 0.043926, 0.044813, 0.043246, 0.048515, 0.042604, 0.040667, 0.040596, 0.046034, 0.046204, 0.047413, 0.044914, 0.048732, 0.046014, 0.04702, 0.043181, 0.042872, 0.042318, 0.045457, 0.050422, 0.043726, 0.041975, 0.047176, 0.043608, 0.045545, 0.04859, 0.045747, 0.042853, 0.043298, 0.043635, 0.04593, 0.039764, 0.038694, 0.039034, 0.038907, 0.039159, 0.040572, 0.035367, 0.035199, 0.039928, 0.035614, 0.038458, 0.03827, 0.03929, 0.03685, 0.039032, 0.0369, 0.036075, 0.042097, 0.039473, 0.044811, 0.040527, 0.039222, 0.040365, 0.039539, 0.039908, 0.041997, 0.040255, 0.040143, 0.044106, 0.043448, 0.038081, 0.040066, 0.037723, 0.041254, 0.038862, 0.03955, 0.03795, 0.040715, 0.038512, 0.040836, 0.040211, 0.037666, 0.040795, 0.037716, 0.03957, 0.037392, 0.038347, 0.037179, 0.039294, 0.037135, 0.035194, 0.036855, 0.035442, 0.040408, 0.036634, 0.040599, 0.042768, 0.036421, 0.036494, 0.038788, 0.036325, 0.03655, 0.037617, 0.038259, 0.036309, 0.037316, 0.038548, 0.040856, 0.038947, 0.035825, 0.041027, 0.039905, 0.038922, 0.037834, 0.043644, 0.036204, 0.041103, 0.039112, 0.037245, 0.036484, 0.042022, 0.035611, 0.036633, 0.034978, 0.036012, 0.03531, 0.039822, 0.038691, 0.039557, 0.036612, 0.034872, 0.037373, 0.036028, 0.035882, 0.041764, 0.033831, 0.03748, 0.034071, 0.035267, 0.03519, 0.035744, 0.047503, 0.037792, 0.035929, 0.038931, 0.035376, 0.039667, 0.037571, 0.04619, 0.034134, 0.041463, 0.051188, 0.042828, 0.037773, 0.04257, 0.044274, 0.035466, 0.034376, 0.036246, 0.037301, 0.035519, 0.037158, 0.03561, 0.034729, 0.03523, 0.037973, 0.035032, 0.03941, 0.03486, 0.036449, 0.034854, 0.041882, 0.037208, 0.04183, 0.037419, 0.038342, 0.041863, 0.036963, 0.038547, 0.037321, 0.041781, 0.041074, 0.039394, 0.033529, 0.041744, 0.036564, 0.038265, 0.038654, 0.037213, 0.039833, 0.037274, 0.034665, 0.035615, 0.033885, 0.037323, 0.035332, 0.035754, 0.053452, 0.036291, 0.035597, 0.033948, 0.036058, 0.037343, 0.037971, 0.038567, 0.036163, 0.038677, 0.042017, 0.035354, 0.035046, 0.036073, 0.039091, 0.037738, 0.035529, 0.034792, 0.033991, 0.036303, 0.03925, 0.033925, 0.035222, 0.039546, 0.034197, 0.03621, 0.037526, 0.034015, 0.03252, 0.035006, 0.032607, 0.034279, 0.034002, 0.043007, 0.034326, 0.04912, 0.038423],
  "real": [1.393252, 0.311407, 0.472202, 0.266621, 0.317386, 0.28472, 0.274727, 0.302231, 0.300393, 0.288433, 0.283333, 0.285367, 0.422235, 0.270922, 0.27863, 0.265534, 0.291688, 0.290403, 0.277335, 0.275757, 0.275441, 0.329069, 0.258238, 0.260451, 0.274489, 0.279028, 0.280452, 0.278984, 0.293696, 0.276884, 0.278994, 0.289741, 0.264282, 0.26515, 0.268951, 0.32246, 0.262396, 0.255388, 0.27498, 0.259601, 0.24424, 0.252428, 0.265078, 0.244049, 0.308402, 0.267248, 0.273964, 0.26785, 0.27134, 0.269528, 0.269915, 0.276564, 0.265716, 0.265876, 0.271724, 0.252779, 0.265698, 0.25111, 0.27893, 0.255128, 0.250269, 0.263876, 0.264571, 0.285141, 0.267816, 0.282183, 0.272215, 0.249764, 0.246453, 0.283089, 0.278525, 0.265093, 0.266781, 0.26711, 0.293887, 0.277988, 0.275636, 0.264406, 0.263315, 0.273376, 0.276648, 0.266629, 0.29684, 0.289609, 0.280936, 0.265025, 0.254308, 0.271626, 0.278123, 0.274103, 0.255752, 0.247864, 0.273098, 0.259212, 0.262082, 0.270095, 0.250363, 0.249224, 0.258515, 0.267684, 0.268689, 0.270646, 0.258689, 0.267098, 0.264587, 0.272795, 0.259998, 0.262658, 0.249293, 0.258631, 0.249795, 0.261775, 0.259922, 0.266332, 0.272403, 0.244552, 0.261268, 0.263406, 0.261431, 0.25167, 0.258846, 0.26241, 0.278608, 0.254427, 0.27824, 0.262593, 0.265296, 0.261441, 0.256113, 0.27714, 0.249484, 0.247211, 0.249886, 0.235998, 0.259864, 0.27891, 0.261954, 0.253487, 0.258354, 0.235688, 0.238031, 0.264061, 0.253526, 0.268213, 0.263977, 0.247626, 0.265586, 0.253742, 0.241983, 0.251807, 0.261695, 0.247531, 0.235765, 0.237698, 0.296044, 0.235797, 0.250467, 0.250614, 0.25082, 0.244621, 0.256976, 0.25112, 0.259076, 0.252761, 0.246948, 0.276261, 0.246222, 0.260404, 0.25112, 0.262597, 0.24788, 0.25646, 0.259974, 0.24154, 0.246206, 0.25443, 0.254179, 0.246555, 0.28425, 0.263005, 0.248169, 0.259511, 0.276522, 0.241681, 0.254714, 0.239891, 0.26032, 0.255031, 0.243359, 0.240194, 0.256041, 0.26665, 0.242961, 0.280224, 0.246332, 0.235912, 0.245185, 0.238909, 0.235579, 0.228059, 0.234176, 0.235679, 0.233208, 0.231889, 0.227947, 0.257162, 0.238607, 0.248898, 0.236664, 0.245983, 0.253733, 0.234528, 0.241227, 0.256425, 0.235967, 0.23032, 0.234516, 0.25697, 0.255048, 0.243698, 0.243981, 0.270485, 0.262592, 0.26374, 0.249764, 0.263105, 0.300438, 0.273021, 0.267732, 0.247597, 0.232818, 0.231535, 0.240373, 0.242584, 0.25015, 0.246738, 0.250592, 0.251096, 0.250662, 0.252258, 0.246359, 0.24013, 0.23704, 0.24162, 0.246836, 0.248059, 0.253549, 0.253934, 0.258585, 0.261483, 0.265426, 0.232327, 0.279713, 0.249822, 0.266911, 0.243418, 0.254374, 0.265195, 0.250539, 0.23661, 0.256997, 0.247117, 0.252018, 0.235113, 0.240338, 0.255823, 0.239904, 0.250094, 0.255839, 0.261162, 0.238331, 0.257215, 0.273482, 0.251442, 0.246275, 0.283364, 0.257563, 0.255105, 0.256195, 0.242162, 0.251678, 0.255264, 0.252103, 0.245488, 0.230813, 0.25047, 0.245474, 0.243141, 0.249696, 0.244492, 0.258847, 0.240842, 0.245519, 0.25076, 0.264659, 0.234175, 0.246636, 0.238342, 0.286434, 0.302805, 0.247481, 0.23412, 0.263085, 0.253614, 0.247234, 0.25131, 0.231002, 0.261481, 0.235584, 0.255644, 0.228606, 0.238231, 0.240518, 0.219824, 0.217949, 0.21299, 0.246811, 0.257664, 0.228531, 0.256565, 0.233412, 0.23895, 0.218482, 0.231528, 0.25555, 0.213136, 0.244475, 0.216664, 0.215023, 0.217673, 0.230682, 0.224155, 0.254476, 0.229867, 0.224824, 0.255217, 0.237651, 0.238944, 0.245137, 0.232803, 0.232945, 0.235474, 0.246149, 0.224597, 0.225906, 0.22478, 0.216163, 0.216738, 0.261915, 0.277968, 0.228436, 0.24432, 0.235705, 0.226515, 0.238648, 0.229891, 0.230093, 0.269697, 0.25165, 0.234322, 0.256113, 0.221419, 0.224083, 0.241053, 0.247916, 0.229588, 0.220332, 0.224172, 0.227758, 0.236668, 0.247754, 0.240714, 0.233974, 0.243273, 0.235934, 0.2373, 0.251875, 0.255178, 0.243533, 0.240051, 0.253682, 0.236712, 0.23022, 0.241415, 0.231166, 0.231952, 0.218964, 0.231826, 0.245964, 0.247191, 0.228451, 0.231055, 0.227828, 0.245876, 0.264185, 0.226581, 0.255202, 0.22082, 0.250823, 0.277501, 0.23764, 0.232281, 0.223177, 0.224673, 0.21927, 0.234352, 0.235679, 0.237042, 0.227308, 0.217285, 0.218484, 0.228262, 0.221285, 0.225878, 0.222187, 0.211797, 0.220352, 0.228312, 0.225895, 0.272611, 0.232455, 0.243108, 0.241728, 0.248586, 0.243893, 0.222652, 0.216722, 0.239539, 0.222903, 0.227662, 0.214181, 0.226398, 0.23139, 0.243753, 0.217969, 0.216808, 0.21442, 0.212698, 0.215758, 0.221327, 0.241472, 0.225911, 0.231427, 0.219003, 0.212987, 0.238729, 0.248481, 0.24276, 0.23337, 0.220532, 0.223233, 0.232548, 0.220933, 0.229359, 0.233269, 0.237392, 0.250792, 0.225312, 0.220295, 0.229357, 0.24105, 0.234336, 0.235518, 0.220414, 0.226031, 0.227206, 0.228049, 0.221437, 0.25027, 0.235499, 0.226401, 0.24371, 0.253563, 0.241971, 0.308476, 0.264254, 0.240056, 0.256921, 0.267185, 0.251091, 0.249231, 0.23297, 0.255158, 0.249059, 0.238981, 0.238724, 0.237366, 0.250058, 0.238934, 0.233478, 0.250056, 0.238572, 0.238215, 0.218627, 0.214882, 0.24048, 0.218805, 0.228969, 0.234587, 0.230621]
};

function createData(json_object) {
    var data = []
    var comm_slice = json_object['epochs_lower'].slice(40,50)
    var comp_slice = json_object['real'].slice(40,50)

    var sum = 0;
    for (var i = 0; i<10; i++) {
        sum += comp_slice[i] - comm_slice[i];
    }
    var mean = sum/10;

    for (var i = 0; i<json_object['epochs_upper'].length; i++) {
        var comm_up = json_object['epochs_upper'][i];
        var comm_low = json_object['epochs_lower'][i];
        var mid = json_object['real'][i];
        var comp = mid - comm_low;
        var predict = mean + (comm_up + comm_low)/2;
        data.push({
            epoch_num:i+1,
            upper_com:comm_up,
            lower_com:comm_low,
            comp:comp,real:mid,
            predict:predict,
            mean:mean
        })
    }
    return data;
}


// Create without random data.
var data = createData(json_obj);
var epoch_chart = d3.timeseries()
          .addSerie(data.slice(0,50),
            {x:'epoch_num',y:'real'},
            {interpolate:'monotone',color:"#a6cee3",label:"actual"})
          .addSerie(data.slice(40),
              {x:'epoch_num',y:'predict'},
              {interpolate:'monotone',dashed:true,color:"#e26060",label:"prediction"})
          .width(900)

epoch_chart("#epoch_chart")

